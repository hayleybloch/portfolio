(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{373:(e,t,i)=>{"use strict";i.d(t,{CH:()=>r,JD:()=>n,WO:()=>c,_L:()=>s,iP:()=>o});let n="fs_item_drag_enter",r="fs_item_drag_move",o="fs_item_drag_leave",s="fs_item_drag_drop";class a{subscribe(e){return this.listeners.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.listeners.entries())if(i===e)return void this.listeners.splice(t)}propagate(e){for(let t of this.listeners)t(e)}constructor(){this.listeners=[]}}class l{start(e,t){this.context.propagate({action:"start",files:this.files,x:e,y:t})}move(e,t){this.context.propagate({action:"move",files:this.files,x:e,y:t})}drop(e,t){this.context.propagate({action:"drop",files:this.files,x:e,y:t})}constructor(e,t){this.context=e,this.files=t}}class c{start(e,t,i){let n=new l(this.context,e);return n.start(t,i),n}subscribe(e){return this.context.subscribe(e)}unsubscribe(e){this.context.unsubscribe(e)}constructor(){this.context=new a}}},412:(e,t,i)=>{"use strict";i.d(t,{L:()=>g,p:()=>f});var n=i(6029),r=i(5729),o=i(4893);let s="pointer_primary",a="pointer_secondary",l=[{onDown:"/sounds/space_down_1.mp3",onUp:"/sounds/space_up_1.mp3"},{onDown:"/sounds/space_down_2.mp3",onUp:"/sounds/space_up_2.mp3"},{onDown:"/sounds/space_down_3.mp3",onUp:"/sounds/space_up_3.mp3"}],c=[{onDown:"/sounds/shift_down.mp3",onUp:"/sounds/shift_up.mp3"}],u=[{onDown:"/sounds/key_down_1.mp3"},{onDown:"/sounds/key_down_2.mp3"}],h=[{onDown:"/sounds/left_mouse_down_1.mp3",onUp:"/sounds/left_mouse_up_1.mp3"},{onDown:"/sounds/left_mouse_down_2.mp3",onUp:"/sounds/left_mouse_up_2.mp3"},{onDown:"/sounds/left_mouse_down_3.mp3",onUp:"/sounds/left_mouse_up_3.mp3"}],d=[{onDown:"/sounds/right_mouse_down_1.mp3",onUp:"/sounds/right_mouse_up_1.mp3"},{onDown:"/sounds/right_mouse_down_2.mp3",onUp:"/sounds/right_mouse_up_2.mp3"},{onDown:"/sounds/right_mouse_down_3.mp3",onUp:"/sounds/right_mouse_up_3.mp3"}];function p(e){return e[Math.floor(Math.random()*e.length)]}function m(e){switch(e){case"Space":return p(l);case"ShiftLeft":case"ShiftRight":return p(c);default:return p(u)}}function f(e,t){if(["VolumeUp","VolumeDown"].includes(t))return;let i=new Audio(m(t).onDown);e.playAudioFragment(i,.6)}function g(e){let t=e.apis.sound,i=(0,r.useRef)({}),l=(0,r.useRef)({});function c(e){let t=i.current[e];if(t)return t;let n=new Audio(e);return i.current[e]=n,n}function u(e){if(e.repeat)return;let i=e.code;if(["VolumeUp","VolumeDown"].includes(i))return;l.current[i]=m(i);let n=l.current[i].onDown;if(n){let e=c(n);t.playAudioFragment(e,.6)}}function f(e){if(e.repeat)return;let i=e.code;if(!l.current[i])return;let n=l.current[i].onUp;if(n){let e=c(n);t.playAudioFragment(e,.6)}}function g(e){let i=0===e.button?s:a,n=0===e.button?h:d;l.current[i]=p(n);let r=l.current[i].onDown;if(r){let e=c(r);t.playAudioFragment(e,1)}}function w(e){let i=0===e.button?s:a;if(!l.current[i])return;let n=l.current[i].onUp;if(n){let e=c(n);t.playAudioFragment(e,1)}}return(0,r.useEffect)(()=>{if(!(0,o.nr)())return window.addEventListener("keydown",u),window.addEventListener("keyup",f),window.addEventListener("pointerdown",g),window.addEventListener("pointerup",w),()=>{window.removeEventListener("keydown",u),window.removeEventListener("keyup",f),window.removeEventListener("pointerdown",g),window.removeEventListener("pointerup",w)}},[]),(0,n.jsx)(n.Fragment,{})}},493:e=>{e.exports={desktop:"Desktop_desktop__pFiTX",applicationContainer:"Desktop_applicationContainer__3wKf3"}},1502:(e,t,i)=>{"use strict";i.d(t,{sW:()=>o});class n{constructor(e){this.value=e,this.next=null,this.prev=null}}class r{getNextIterator(e,t){switch(this.direction){case"fromTail":return e.next;case"fromHead":return e.prev}}[Symbol.iterator](){let e;return this.node=this.originalNode,{next:()=>this.node?(e=this.node,this.node=this.getNextIterator(this.node,this.direction),{done:!1,value:e}):{done:!0,value:e}}}find(e){let t=this.node;for(;t;){if(e(t.value))return t.value;t=this.getNextIterator(t,this.direction)}return null}constructor(e,t){switch(this.direction=t,this.direction){case"fromTail":this.node=e.getTail();break;case"fromHead":this.node=e.getHead()}this.originalNode=this.node}}class o{append(e){return this.appendNode(new n(e))}appendNode(e){let t=this.getHead();return e.prev=t,null!==t&&(t.next=e),this.head=e,null===this.tail&&(this.tail=e),this.items++,e}insert(e,t){let i=e.next,r=new n(t);return i&&(i.prev=r,r.next=i),r.prev=e,e.next=r,this.items++,r}cutOff(e){let t=e.next;for(;null!==t;)this.items--,t=t.next;e.next=null,this.head=e}prepend(e){return this.prependNode(new n(e))}prependNode(e){let t=this.getTail();return e.next=t,null!==t&&(t.prev=e),this.tail=e,null===this.head&&(this.head=e),this.items++,e}unlink(e){e.prev&&e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev?e.prev.next=null:e.next&&(e.next.prev=null),this.head==e&&(this.head=e.prev),this.tail==e&&(this.tail=e.next),e.next=null,e.prev=null,this.items--}moveToHead(e){this.unlink(e),this.appendNode(e)}moveToTail(e){this.unlink(e),this.prependNode(e)}getHead(){return this.head}getTail(){return this.tail}count(){return this.items}toArray(){let e=[],t=this.getTail();for(;null!==t;)e.push(t.value),t=t.next;return e}iterFromTail(){return new r(this,"fromTail")}iterFromHead(){return new r(this,"fromHead")}constructor(){this.head=null,this.tail=null,this.items=0}}},1946:e=>{e.exports={menuBar:"MenuBar_menuBar__Y4sTt",spacer:"MenuBar_spacer__7TOpE",date:"MenuBar_date__9LDmZ",utility:"MenuBar_utility__yng9a",weekday:"MenuBar_weekday___yfE0",month:"MenuBar_month__suU8o",menuEntry:"MenuBar_menuEntry__b8L6J",menuContent:"MenuBar_menuContent__bzkLa"}},3019:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CharactersPerLine:()=>g,FolderIconHitBox:()=>v,IconHeight:()=>h,IconWidth:()=>u,ImageHeight:()=>d,ImageWidth:()=>p,MaximumLines:()=>w,TextHeight:()=>f,TextWidth:()=>m,default:()=>k});var n=i(6029),r=i(8588),o=i.n(r),s=i(5729),a=i(7096),l=i.n(a),c=i(7117);let u=120,h=80,d=60,p=60,m=120,f=20,g=14,w=2;function v(e){let t=b(g,w,e.entry.node.name+e.entry.node.filenameExtension),i=u/2;return[{x1:e.x+(i-p/2),x2:e.x+(i+p/2),y1:e.y,y2:e.y+d},{x1:e.x,x2:e.x+u,y1:e.y+d,y2:e.y+d+f*t.length}]}function y(e){let{entry:t}=e,i=(0,s.useRef)(null),[r,o]=(0,s.useState)(!1),[a,c]=(0,s.useState)(t.editing.value);return(0,s.useEffect)(()=>{i.current&&i.current.focus()},[r]),(0,s.useEffect)(()=>{o(!0)},[]),(0,n.jsx)("input",{className:["system-text-input",l().editInput].join(" "),ref:i,type:"input",value:a,onChange:e=>{var i;c(i=e.target.value),t.editing.value=i},onKeyDown:e=>"Enter"===e.key&&void(t.editing.onSave&&t.editing.onSave())})}function b(e,t,i){let n=i.split(" "),r=[],o="";function s(t){let i=0!==o.length;o.length+t.length+ +!!i<=e?o+=(i?" ":"")+t:(r.push(o),o=t)}for(let t of n)0!==t.length&&(t.length>=e?(function(e,t){let i=Math.ceil(t.length/e),n=Array(i);for(let r=0,o=0;r<i;r++,o+=e)n[r]=t.substring(o,o+e);return n})(e,t).forEach(e=>s(e)):s(t));r.push(o);if(r.length>t){let e=r[t-1];r[t-1]=e.substring(0,e.length-3)+"...",r.length=2}return r}function x(e){let{title:t}=e,i=b(g,w,t).map((e,t)=>0===e.length?(0,n.jsx)("span",{className:l().titleLine,children:"\xa0"},t):(0,n.jsx)("span",{className:l().titleLine,children:e},t));return(0,n.jsx)("div",{className:l().title,children:i})}function k(e){let{folderIconEntry:t,index:i}=e,r=t.entry,s=r.node,a=t.selected?l().selected:"",u=t.editing.active?(0,n.jsx)(y,{entry:t}):(0,n.jsx)(x,{title:s.name+s.filenameExtension}),h=(0,c.ce)(r.node);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:s.kind+" "+l().container+" "+a,style:{top:"".concat(t.y,"px"),left:"".concat(t.x,"px"),zIndex:1e5*!!t.dragging+i},children:[(0,n.jsx)("div",{className:l().imageContainer,children:(0,n.jsx)("div",{className:l().imageContainerInner,children:(0,n.jsx)(o(),{quality:100,draggable:"false",className:l().image,src:h.src,alt:h.alt,width:p,height:d})})}),(0,n.jsx)("div",{className:l().textContainer,children:u})]})})}},4296:e=>{e.exports={operatingSystem:"OperatingSystem_operatingSystem__4hD_a"}},4523:(e,t,i)=>{"use strict";function n(e){return e.ok?e.value:null}function r(e){return{ok:!0,value:e}}function o(e){return{ok:!1,value:e}}i.d(t,{Ok:()=>r,_:()=>o,o:()=>n})},4805:(e,t,i)=>{"use strict";i.d(t,{tV:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>Promise.all([i.e(722),i.e(82)]).then(i.bind(i,3082)),{loadableGenerated:{webpack:()=>[3082]}});class s{constructor(){this.displayName="Finder",this.dockPriority=-100,this.path="/Applications/",this.appName="Finder.app",this.appIcon={src:"/icons/finder-icon.png",alt:"Finder application"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"Finder",items:[{kind:"action",value:"Open window",action:()=>this.openNewWindow("/Users/hayley/")}]}]}openNewWindow(e){let t=this.compositor.open({x:100,y:80,height:400,width:670,title:"Finder",application:this,args:e,generator:()=>o});t.minimalHeight=250,t.minimalWidth=400}on(e,t){if("application-open"===e.kind){if(e.isFirst)return;let t=0!==e.args.length?e.args:"/Users/hayley/";this.openNewWindow(t)}if("finder-open-file-event"===e.kind){if(!t)return;this.manager.open('"'.concat(e.path,'"'))}}}},4842:(e,t,i)=>{"use strict";function n(e){let t=e,i=[];for("directory"===e.kind&&i.push("");null!==t.parent;)i.push(t.name),t=t.parent;return i.push(""),i.reverse().join("/")+e.filenameExtension}function r(e){let t=e.split("/").filter(e=>e.length>0);return t.length<1?["/"]:t}function o(e){let t=e.split("/").filter(e=>e.length>0);return t.length<=1?"/":(t.pop(),"/".concat(t.join("/"),"/"))}function s(e){let t=e.split("/").filter(e=>e.length>0);return t.length<0?null:t[t.length-1]}function a(e,t){if(""===t)return!1;for(let i of e.children.iterFromHead())if(i.value.node.name===t)return!1;return!0}function l(e,t){function i(e,t){for(let i of e.children.iterFromTail())if(i.value.node.name===t)return!0;return!1}if(!i(e,t))return t;let n=1;for(;i(e,"".concat(t," ").concat(++n)););return"".concat(t," ").concat(n)}i.d(t,{AY:()=>s,KC:()=>r,Q1:()=>l,bn:()=>o,kH:()=>a,tG:()=>n})},4893:(e,t,i)=>{"use strict";i.d(t,{Ds:()=>s,Im:()=>u,Lj:()=>r,_o:()=>c,nr:()=>a,oA:()=>o,p5:()=>l,qE:()=>n,xf:()=>h});let n=(e,t,i)=>Math.max(Math.min(i,e),t),r=(e,t)=>e.toLocaleString(void 0,{minimumIntegerDigits:t});function o(e){return e.hasTouchesDown(2)||e.hasTouchesDown(3)}function s(e){return e.hasTouchesDown(2)}let a=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function l(){return!!a&&navigator.userAgent.indexOf("Mobile")>0}function c(){return new URLSearchParams(window.location.search).has("debug")}function u(e){return 0===e.length}function h(e){return/\S+@\S+\.\S+/.test(e)}},5436:(e,t,i)=>{"use strict";i.d(t,{aJ:()=>h,cv:()=>d,eI:()=>m,ti:()=>p});var n=i(9471),r=i(6905),o=i(4893),s=i(412);function a(e,t){return 27===e.charCodeAt(t)}function l(e,t){return 91===e.charCodeAt(t)}function c(e,t){return 109===e.charCodeAt(t)}function u(e){if(e.length<1)return e.length;let t=0,i=0,n=!1;for(;i<e.length;){if(a(e,i)){i++;continue}a(e,i-1)&&l(e,i)&&(n=!0),!n&&t++,n&&c(e,i)&&(n=!1),i++}return t}function h(e){if(e.length<1)return"";let t="",i=0,n=!1;for(;i<e.length;){if(a(e,i)){i++;continue}a(e,i-1)&&l(e,i)&&(n=!0),n||(t+=e[i]),n&&c(e,i)&&(n=!1),i++}return t}function d(e,t,i){let n=u(e);return n>t?e:(i||" ").repeat(t-n)+e}function p(e,t,i){let n=u(e);return n>t?e:e+(i||" ").repeat(t-n)}class m{coordsInPrompt(e){let t=(e+=u(this.shell.getPromptString()))%this.terminal.cols,i=Math.floor(e/this.terminal.cols);return{x:t,y:this.promptLine-this.terminal.buffer.active.baseY+i}}clearPrompt(){let e=this.promptLine-this.terminal.buffer.active.baseY;for(let t=0;t<this.promptLines;t++){let i=e+t;this.write((0,n.CR)(0,i)+"\x1b[2K\r")}this.write((0,n.CR)(0,e))}resetPrompt(){this.prompt="",this.promptPosition=0,this.promptLines=1,this.actualPromptLines=1,this.historyPrompt=""}updatePrompt(){this.hideCursor(),this.clearPrompt(),this.writePrompt(),this.updateCursor(),this.showCursor()}clear(){this.resetPrompt(),this.promptLine=0,this.terminal.reset(),this.updatePrompt()}writeResponse(e){if(this.responseLines.push(e),this.showOutput){for(let t of(this.hideCursor(),e.split("\n")))this.write(t),this.newLine();this.showCursor()}}writeResponseLines(e){if(this.responseLines.push(...e),this.showOutput)for(let t of e)this.writeResponse(t)}resetResponseLines(){this.responseLines=[]}getResponseLines(){return this.responseLines}enableOutput(){this.showOutput=!0}disableOutput(){this.showOutput=!1}getCompletePrompt(){return"\r".concat(this.shell.getPromptString()).concat(this.prompt)}writePrompt(){this.write(this.getCompletePrompt())}write(e){let t=function(e,t){if(""===e)return[""];let i=0,n=[];for(;i<e.length;){let{part:r,offset:o}=function(e,t){let i=0,n=0,r=0,o=!1;for(;n<t&&r<e.length;){if(a(e,r)){r++;continue}a(e,r-1)&&l(e,r)&&(o=!0),!o&&n++,o&&c(e,r)&&(o=!1),r++,o||(i=r)}let s=r<e.length?i:r;return{part:e.slice(0,i),offset:s}}(e.slice(i),t);n.push(r),i+=o}return n}(e,this.terminal.cols),i=Math.max(t.length-this.promptLines,0);for(let e=0;e>i;e++)this.terminal.write("\r\n");this.promptLines=Math.max(this.promptLines,t.length),this.actualPromptLines=t.length;let r=this.promptLine-this.terminal.buffer.active.baseY;this.terminal.write((0,n.CR)(0,r)+e)}newLine(){this.promptLine+=this.actualPromptLines,this.terminal.writeln(""),this.resetPrompt()}hideCursor(){this.terminal.write(n.$m)}showCursor(){this.terminal.write(n.y9)}updateCursor(){let{x:e,y:t}=this.coordsInPrompt(this.promptPosition);this.terminal.write((0,n.CR)(e,t))}moveCursor(e){if("left"===e){if(0===this.promptPosition)return;this.promptPosition--}else{if(this.promptPosition>=this.prompt.length)return;this.promptPosition++}let{x:t,y:i}=this.coordsInPrompt(this.promptPosition);this.terminal.write((0,n.CR)(t,i))}loadHistory(e){this.historyIndex=(0,o.qE)(this.historyIndex+("next"===e?1:-1),0,this.historyEntries.length),this.historyIndex===this.historyEntries.length?this.prompt=this.historyPrompt:this.prompt=this.historyEntries[this.historyIndex],this.promptPosition=this.prompt.length,this.updatePrompt()}insertEnter(){let e=this.prompt;this.newLine(),this.shell.process(e),e.length>0&&(this.historyEntries.push(e),this.historyIndex=this.historyEntries.length),this.updatePrompt()}insertBackspace(){if(0!==this.promptPosition){if(this.promptPosition===this.prompt.length)this.prompt=this.prompt.slice(0,this.prompt.length-1);else{let e=this.prompt.slice(0,this.promptPosition-1),t=this.prompt.slice(this.promptPosition);this.prompt=e+t}this.promptPosition--,this.updatePrompt()}}insertCharacters(e){if(this.promptPosition===this.prompt.length)this.prompt+=e,this.promptPosition+=e.length,this.updatePrompt();else{let t=this.prompt.slice(0,this.promptPosition),i=this.prompt.slice(this.promptPosition);this.prompt=t+e+i,this.promptPosition+=e.length,this.updatePrompt()}this.historyPrompt=this.prompt}playKeySound(e){(0,o.nr)()||"Space"!==e&&(0,s.p)(this.soundService,e)}onKey(e){let{key:t,domEvent:i}=e,n=i.code;if(!i.ctrlKey&&!i.altKey)switch(!i.repeat&&this.playKeySound(n),n){case"Enter":this.insertEnter();break;case"Backspace":this.insertBackspace();break;case"ArrowLeft":case"ArrowRight":this.moveCursor("ArrowLeft"===n?"left":"right");break;case"ArrowUp":case"ArrowDown":this.loadHistory("ArrowUp"===n?"prev":"next");break;default:if(1!==t.length)return;this.insertCharacters(t)}}onResize(){let e=this.domElement,t=this.terminal._core._renderService.dimensions.css.cell,i=Math.floor(e.clientWidth/t.width),n=Math.floor(e.clientHeight/t.height);this.terminal.resize(i,n)}bind(){this.terminal.open(this.domElement),this.terminal.onKey(this.onKey.bind(this)),this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(this.domElement),this.shell.process("motd"),this.shell.process("help"),this.updatePrompt(),this.updateCursor()}dispose(){var e;this.terminal.dispose(),null==(e=this.resizeObserver)||e.disconnect()}constructor(e,t,i,n){this.terminal=e,this.domElement=t,this.prompt="",this.showOutput=!0,this.promptLines=1,this.actualPromptLines=1,this.promptLine=0,this.promptPosition=0,this.resizeObserver=null,this.historyPrompt="",this.historyEntries=[],this.historyIndex=0,this.responseLines=[],this.terminal.options.fontSize=16;let o=Math.floor(t.clientWidth/9.6),s=Math.floor(t.clientHeight/17);this.terminal.resize(o,s),this.shell=new r.$(this,i,n),this.soundService=n.sound}}},5612:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSG:()=>ef,default:()=>eg});var n=i(6029),r=i(5669),o=i.n(r),s=i(6772),a=i.n(s),l=i(7523),c=i.n(l),u=i(8388),h=i(9714),d=i(1502),p=i(6002),m=i(8247);class f{constructor(e,t,i,n,r,o,s,a,l){this.id=e,this.x=t,this.y=i,this.width=n,this.height=r,this.title=o,this.args=s,this.application=a,this.generator=l,this.order=0,this.focused=!0,this.minimized=!1,this.minimalWidth=240,this.minimalHeight=180,this.action=null}}class g{registerApplicationManager(e){this.applicationManager=e}updateApplicationManager(e){var t;let i=e.value.application;null==(t=this.applicationManager)||t.focus(i)}subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}subscribeWithFilter(e,t){function i(i){e(i)&&t(i)}return this.observers.push(i),()=>{this.unsubscribe(i)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(e===i)return void this.observers.splice(t)}publish(e){for(let t of this.observers)t(e)}getById(e){var t;return null==(t=this.windowNodeLookup[e])?void 0:t.value}setSize(e,t){this.viewWidth=e,this.viewHeight=t}open(e){var t,i,n,r;let[o,s]=[e.x,e.y],a=null!=(t=e.width)?t:400,l=null!=(i=e.height)?i:80,c=function(e,t){let i=[],n=t.application.config();for(let t of e.iterFromTail()){let e=t.value.application.config();n.appName===e.appName&&i.push(t.value)}return i}(this.windows,e),u=!1;do if(u=!1,c.find(e=>e.x===o&&e.y===s)){let e=o+a+10<=this.viewWidth,t=s+l+10<=this.viewHeight;o=e?o+10:0,s=t?s+10:0,u=!0}while(u);let h=this.windowId++,d=new f(h,o,s,null!=(n=e.width)?n:400,null!=(r=e.height)?r:80,e.title,e.args,e.application,e.generator),g=this.windows.append(d);return this.updateApplicationManager(g),this.windowNodeLookup[h]=g,this.updateWindowOrder(),d.application.on((0,m.px)(h),{id:h}),this.publish((0,p.xP)(d.id)),d}focus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.windowNodeLookup[e];if(!i)return void console.error("Node not found");(t||i!==this.windows.getHead())&&(this.updateApplicationManager(i),this.windows.moveToHead(i),this.updateWindowOrder(),this.publish((0,p.zB)(e)),this.publish((0,p.r)()))}update(e,t){var i,n;let r=this.windowNodeLookup[e.id];if(!r)return;r.value=e;let o=null!=(i=null==t?void 0:t.moved)&&i,s=null!=(n=null==t?void 0:t.resized)&&n;this.publish((0,p.YL)(e.id,o,s))}close(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.action&&i.action.reject("Window has been closed by user"),this.publish((0,p.n0)(e)),i.application.on((0,m.di)(e),{id:e}),this.windows.unlink(t),delete this.windowNodeLookup[e];let n=this.findPreviousNodeOfSameApplication(i.application);n?this.focus(n.value.id,!0):(i.application.on((0,m.hJ)()),this.updateWindowOrder())}async alert(e,t){let i=this.windowNodeLookup[e];if(!i)throw Error("Window node not found");let n=i.value,r=()=>{n.action=null,this.update(n)};return new Promise((e,i)=>{n.action={action:"alert",alert:t,resolve:e,reject:i},this.update(n)}).then(()=>{r()}).catch(e=>{throw r(),e})}async prompt(e,t,i){let n=this.windowNodeLookup[e];if(!n)throw Error("Window node not found");let r=n.value,o=()=>{r.action=null,this.update(r)};return new Promise((e,n)=>{r.action={action:"prompt",prompt:t,defaultValue:i,resolve:e,reject:n},this.update(r)}).then(e=>(o(),e)).catch(e=>{throw o(),e})}minimize(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.minimized=!0,this.update(i);let n=this.listPreviousNodesOfSameApplication(i.application).find(e=>!1===e.value.minimized);n?this.focus(n.value.id,!0):this.updateWindowOrder(),this.publish((0,p.pf)(i.id))}maximize(e){let t=this.windowNodeLookup[e];if(!t)return;let i=t.value;i.minimized=!1,this.update(i,{moved:!0,resized:!0}),this.focus(i.id,!0),this.publish((0,p.FC)(i.id))}listMinimizedWindows(){let e=[];for(let t of this.windows.iterFromTail()){let i=t.value;i.minimized&&e.push(i)}return e}listPreviousNodesOfSameApplication(e){let t=this.windows.getHead(),i=[];for(;null!==t;)t.value.application===e&&i.push(t),t=t.prev;return i}findPreviousNodeOfSameApplication(e){let t=this.windows.getHead();for(;null!==t;){if(t.value.application===e)return t;t=t.prev}return null}updateWindowOrder(){if(!this.applicationManager)return;let e=this.windows.getTail(),t=0;if(null===e){let e=this.applicationManager.listApplications().find(e=>"Finder.app"===e.config().appName);e&&this.applicationManager.focus(e);return}for(;null!==e;)e.value.order=t++,e.value.focused=!1,null===e.next&&function(e,t){let i=e;for(;i;){if(!0!==i.value.minimized){i.value.focused=!0,t.focus(i.value.application);return}i=i.prev}}(e,this.applicationManager),e=e.next}reset(){this.windowId=0,this.windows=new d.sW,this.windowNodeLookup={},this.observers=[]}constructor(){this.windowId=0,this.windows=new d.sW,this.windowNodeLookup={},this.observers=[],this.applicationManager=null,this.viewWidth=0,this.viewHeight=0}}var w=i(373),v=i(7117),y=i(5729),b=i(1946),x=i.n(b),k=i(4893),A=i(3610);let _=()=>{let{t:e,i18n:t}=(0,A.Bd)("common"),[i,r]=(0,y.useState)();return(0,y.useEffect)(()=>{r(new Date);let e=setInterval(()=>r(new Date),1e3);return()=>{clearInterval(e)}},[]),(0,n.jsxs)("div",{className:x().date,"data-locale":t.language,children:[function(e,t){if(void 0===e)return(0,n.jsx)(n.Fragment,{});let i=t("date.weekdays_short.".concat(e.getDay())),r=e.getDate().toString(),o=t("date.months_short.".concat(e.getMonth()));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:x().weekday,children:i}),"\xa0",(0,n.jsx)("span",{className:x().day,children:r}),"\xa0",(0,n.jsx)("span",{className:x().month,children:o})]})}(i,e),"\xa0",function(e){if(void 0===e)return(0,n.jsx)(n.Fragment,{});let t=(0,k.Lj)(e.getHours(),2),i=(0,k.Lj)(e.getMinutes(),2),r="".concat(t,":").concat(i);return(0,n.jsx)(n.Fragment,{children:r})}(i)]})},N=e=>{let{t,i18n:i}=(0,A.Bd)("common"),{manager:r}=e,[o,s]=(0,y.useState)([]);function a(e){"focus"===e.kind&&s(e.application.menuEntries())}return(0,y.useEffect)(()=>{let e=r.subscribe(a);return()=>{s([]),e()}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:x().menuBar,children:[(0,n.jsx)("div",{className:x().appEntries,children:function(e){return 0===e.length&&e.push({displayOptions:{},name:"HTMAA Portfolio",items:[]}),e.map((e,t)=>(0,n.jsx)(y.Fragment,{children:function(e){let t=(0,y.useRef)(null),[i,r]=(0,y.useState)(!1),o=e.items.map((e,t)=>(0,n.jsx)(y.Fragment,{children:function(e){switch(e.kind){case"action":return(0,n.jsx)("button",{className:"system-button",onClick:()=>{e.action(),r(!1)},children:e.value});case"spacer":return(0,n.jsx)("hr",{})}}(e)},t)),s=o.length>0?(0,n.jsx)("div",{className:x().menuContent,children:o}):(0,n.jsx)(n.Fragment,{});return(0,n.jsxs)("div",{ref:t,className:x().menuEntry,children:[(0,n.jsx)("button",{className:"system-button",onClick:function(){if(!t.current||i)return;let e=t.current,n=t=>{!function(e,t){let i=e.target;for(;null!==i;){if(i===t)return!0;i=i.parentElement}return!1}(t,e)&&(r(!1),window.removeEventListener("pointerdown",n))};r(!0),window.addEventListener("pointerdown",n)},children:e.displayOptions.boldText?(0,n.jsx)("b",{children:e.name}):(0,n.jsx)("span",{children:e.name})}),i&&s]})}(e)},t))}(o)}),(0,n.jsx)("div",{className:x().spacer}),(0,n.jsx)("div",{className:x().utility,children:(0,n.jsx)(_,{})})]})})};var I=i(493),E=i.n(I),T=i(1024),L=i.n(T),D=i(4842);let C=L()(()=>Promise.all([i.e(722),i.e(11)]).then(i.bind(i,4011)),{loadableGenerated:{webpack:()=>[4011]}}),P=L()(()=>Promise.all([i.e(615),i.e(356)]).then(i.bind(i,2356)),{loadableGenerated:{webpack:()=>[2356]}}),j=e=>{let{windowCompositor:t,manager:i,apis:r}=e,o=(0,y.useRef)(null),s=(e=>(t,i)=>{switch(i.event){case"create_window":{let n=e.getById(i.windowId);if(!n)return t;if(t.find(e=>e.window.id===n.id))break;let r=n.generator();t=[...t,{window:n,application:r}]}break;case"update_window":{let n=e.getById(i.windowId);if(!n)return t;t=t.map(e=>(e.window.id!==n.id||(e.window=n),e))}break;case"update_windows":t=t.map(t=>{let i=e.getById(t.window.id);if(null===i)throw Error("Attempting to update a window that doesn't exist");return t.window=i,t});break;case"destroy_window":t=t.filter(e=>e.window.id!==i.windowId)}return t})(t),[a,l]=(0,y.useReducer)(s,[]);(0,y.useEffect)(()=>{let e=t.subscribe(e=>{l(e)});if(o.current){let e=o.current;t.setSize(e.clientWidth,e.clientHeight)}return()=>{e()}},[]);let c=a.map(e=>(0,n.jsx)(P,{window:e.window,WindowApp:e.application,windowCompositor:t,parent:o.current},e.window.id));return(0,n.jsxs)("div",{className:E().desktop,children:[(0,n.jsx)(C,{directory:"/Users/hayley/Desktop",apis:r,onFileOpen:function(e){let t=(0,D.tG)(e);i.open('"'.concat(t,'"'))},localIconPosition:!0,allowOverflow:!1}),(0,n.jsx)("div",{ref:o,className:E().applicationContainer,children:c})]})};var M=i(7657),O=i.n(M),R=i(5647),S=i(4805),F=i(8583),z=i(9577),W=i(8221),H=i(9073);let G=[S.tV,R.wl,z.Ht,W.Lt,H.vM],U=[...G,F.mj];function Y(e){let{apis:t,manager:i,windowCompositor:r}=e,o=t.system,s=t.fileSystem,[a,l]=(0,y.useState)(u(i,r,o.isDebug())),[c]=(0,y.useState)(function(){let e=[];function t(e){i.open("/Applications/Finder.app ".concat(e))}return e.push({kind:"directory",title:"Applications",path:"/Applications",icon:{src:"/icons/icon-applications-folder.png",alt:"File icon"},onClick:()=>t("/Applications")}),e.push({kind:"directory",title:"Documents",path:"/Users/hayley/Documents",icon:{src:"/icons/icon-documents-folder.png",alt:"File icon"},onClick:()=>t("/Users/hayley/Documents")}),e.push({kind:"directory",title:"Bin",path:"/Users/hayley/Trash",icon:{src:"/icons/trash-icon.png",alt:"Trash can"},onClick:()=>t("/Users/hayley/Trash")}),e}());function u(e,t,i){let n=[],r=e.listApplications().map(e=>e.config()),o=t.listMinimizedWindows();{let t={};(i?U:G).forEach(e=>t[e.appName]={config:e,active:!1}),r.forEach(e=>t[e.appName]={config:e,active:!0}),Object.values(t).sort((e,t)=>{var i,n;return(null!=(i=e.config.dockPriority)?i:0)-(null!=(n=t.config.dockPriority)?n:0)}).forEach(t=>{n.push({kind:"application",config:t.config,active:t.active,onClick:()=>{e.open(t.config.path+t.config.appName)}})})}return n.push({kind:"separator"}),o.slice(0,Math.min(o.length,5)).forEach(e=>{n.push({kind:"minimized_application",title:e.title,config:e.application.config(),onClick:()=>{e.minimized=!1,t.update(e),t.focus(e.id,!0)}})}),n}function h(){l(u(i,r,o.isDebug()))}function d(e){("minimize_window"===e.event||"maximize_window"===e.event)&&l(u(i,r,o.isDebug()))}return(0,y.useEffect)(()=>{let e=i.subscribe(h),t=r.subscribe(d);return()=>{e(),t()}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:O().dock,children:(0,n.jsxs)("div",{"data-drop-point":"true",className:O().dockContainer,children:[a.map((e,t)=>(0,n.jsx)(y.Fragment,{children:function(e){switch(e.kind){case"application":return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{className:O()["dock-application"],onClick:()=>e.onClick(),"data-tooltip":e.config.displayName,children:[(0,n.jsx)("img",{className:O()["dock-app-image"],src:e.config.appIcon.src,alt:e.config.appIcon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:[O().status,e.active?O().active:O().inactive].join(" "),children:e.active?(0,n.jsx)("img",{draggable:!1,className:O()["dock-app-active-image"],src:"data:image/png;base64,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Y0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAABPRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAxIDc5LmE4ZDQ3NTM0OSwgMjAyMy8wMy8yMy0xMzowNTo0NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTExLTIwVDEyOjI2OjI0KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0xMS0yMFQxMjoyOToyOCswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0xMS0yMFQxMjoyOToyOCswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTFjZDA3YzMtMjAyNC00M2U0LWE2YzctYjIyNzFiMTIyZGVjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmExY2QwN2MzLTIwMjQtNDNlNC1hNmM3LWIyMjcxYjEyMmRlYyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmExY2QwN2MzLTIwMjQtNDNlNC1hNmM3LWIyMjcxYjEyMmRlYyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTFjZDA3YzMtMjAyNC00M2U0LWE2YzctYjIyNzFiMTIyZGVjIiBzdEV2dDp3aGVuPSIyMDIzLTExLTIwVDEyOjI2OjI0KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuNiAoTWFjaW50b3NoKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qfM6HAAAAxUlEQVQ4jaWSQQrCMBREp27cKdLqrYqKoJfQOwiCBxKvIYorF96hdSF0Y5+LJhpLW5o6MJskM0n+TADoH/Qq1iJJO0kXSZnhVdLe7P0CcLkAUuqRAHNXUxbnDWKLHFiVDSbAo4XYIgVC4DODjaSBx+yGktbuEGMPsUUsSYGJMZPU9zRIJY2qYmwLpO8Xbh0M7q7BoYPBsXhHEePYM8bExugWaU67Ir2AJRVNFDAz7k03T6mpsmUEbIET8DQ8m7WwfN72oDPeoSunCY8Gh3QAAAAASUVORK5CYII="}):(0,n.jsx)(n.Fragment,{})})]})});case"minimized_application":return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{className:O()["dock-application"],onClick:()=>e.onClick(),"data-tooltip":e.config.displayName,children:[(0,n.jsx)("img",{className:O()["dock-app-image"],src:e.config.appIcon.src,alt:e.config.appIcon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:[O().status].join(" ")})]})});case"separator":return(0,n.jsx)("div",{className:O().separator})}}(e)},t)),c.map((e,t)=>(0,n.jsx)(y.Fragment,{children:function(e,t){let i=(0,y.useRef)(null),[r,o]=(0,y.useState)(!1);function s(){o(!0)}function a(){o(!1)}function l(i){o(!1);let n=i.detail.nodes,r=t.getDirectory(e.path);r.ok&&n.forEach(e=>{t.moveNode(e.item,r.value)})}(0,y.useEffect)(()=>{if(!i.current)return;let e=i.current;return e.addEventListener(w.JD,s),e.addEventListener(w.iP,a),e.addEventListener(w._L,l),()=>{e.removeEventListener(w.JD,s),e.removeEventListener(w.iP,a),e.removeEventListener(w._L,l)}},[]);let c=[O()["dock-application"],r?O().hovered:""].join(" ");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{ref:i,"data-drop-point":"true",className:c,onClick:()=>e.onClick(),"data-tooltip":e.title,children:[(0,n.jsx)("img",{className:O()["dock-app-image"],src:e.icon.src,alt:e.icon.alt,width:64,height:64,draggable:!1}),(0,n.jsx)("div",{className:O().status})]})})}(e,s)},t))]})})})}var B=i(4296),Z=i.n(B);let J=L()(()=>Promise.resolve().then(i.bind(i,3019)),{loadableGenerated:{webpack:()=>[3019]}});function Q(e){let t=e.apis.dragAndDrop,[i,r]=(0,y.useState)([]);function o(e){switch(e.action){case"start":case"move":r(e.files.nodes.map(t=>{let[i,n]=[e.x-t.offset.x,e.y-t.offset.y];return{entry:{node:t.item,x:i,y:n},x:i,y:n,selected:!1,dragging:!0,editing:{active:!1,value:t.item.name}}}));break;case"drop":r([])}}(0,y.useEffect)(()=>{let e=t.subscribe(o);return()=>{e()}},[]);let s=i.map((e,t)=>(0,n.jsx)(J,{folderIconEntry:e,index:t},t));return(0,n.jsx)(n.Fragment,{children:s})}var X=i(4523);function V(e){var t,i;let n=window.top;if(!n)throw Error("Can not send a message to the parent");return t=n,i=e,void t.postMessage(i,"*")}class q{static handleParentResponse(e){let t=e.min_distance,i=e.max_distance,n=e.current_distance,r=e.horizontal_offset,o=e.max_horizontal_offset;return new q(t,i,n,r,o,e.horizontal_offset,e.horizontal_offset)}get horizontal(){return{max:this.maxHorizontalOffset,current:this.horizontalOffset}}get vertical(){return{max:this.maxVerticalOffset,current:this.verticalOffset}}get zoom(){return{min:this.minZoom,max:this.maxZoom,current:this.currentZoom}}constructor(e,t,i,n,r,o,s){this.minZoom=e,this.maxZoom=t,this.currentZoom=i,this.horizontalOffset=n,this.maxHorizontalOffset=r,this.verticalOffset=o,this.maxVerticalOffset=s}}class K{static fromTouchData(e){if(e.hasTouchesDown(1)){let t=e.touches[0],i=t.x,n=t.y;return new K(i,n,i,n)}let t=e.touches.map(e=>e.x),i=e.touches.map(e=>e.y);return new K(Math.min(...t),Math.min(...i),Math.max(...t),Math.max(...i))}width(){return this.x2-this.x1}height(){return this.y2-this.y1}center(){return{x:this.x1+this.width()/2,y:this.y1+this.height()/2}}diagonal(){return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))}constructor(e,t,i,n){this.x1=e,this.y1=t,this.x2=i,this.y2=n}}class ${static fromTouch(e){return new $(e.clientX,e.clientY)}constructor(e,t){this.x=e,this.y=t}}class ee{static fromTouchEvent(e,t){let i=[];for(let e of t.touches){let t=$.fromTouch(e);i.push(t)}return new ee(e,i)}hasTouchesDown(e){return this.touches.length===e}hasMoreTouchesDownThan(e){return this.touches.length>e}boundingBox(){return K.fromTouchData(this)}pointerCoordinates(){let e=0,t=0,i=this.touches.length;for(let i of this.touches)e+=i.x,t+=i.y;return{x:e/i,y:t/i}}constructor(e,t){this.source=e,this.touches=t}}class et{notify(e){for(let t of this.observers)t(e)}subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(i===e)return void this.observers.splice(t)}constructor(){this.observers=[]}}class ei extends et{isEnabled(){return this.enabled}enable(){this.enabled=!0,this.notifyEnabledStatus(),this.unmuteAll()}disable(){this.enabled=!1,this.notifyEnabledStatus(),this.muteAll()}notifyEnabledStatus(){this.notify(this.enabled)}mute(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.muted=!0)}unmute(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.muted=!1)}volume(e,t){var i;let n=null!=(i=this.activeAudio[e])?i:null;n&&(n.volume=t)}muteAll(){for(let e of this.activeAudio.keys())this.mute(e)}unmuteAll(){for(let e of this.activeAudio.keys())this.unmute(e)}stop(e){var t;let i=null!=(t=this.activeAudio[e])?t:null;i&&(i.pause(),delete this.activeAudio[e])}clear(){this.index=0,this.activeAudio=[]}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++,n=new Audio(e);return n.volume=t,n.muted=!this.enabled,n.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=n,n.addEventListener("ended",()=>{delete this.activeAudio[i]}),i}playAudioFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++;return e.volume=t,e.muted=!this.enabled,e.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=e,e.addEventListener("ended",()=>{delete this.activeAudio[i]}),i}playOnRepeat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.index++,n=new Audio(e);return n.volume=t,n.muted=!this.enabled,n.play().catch(()=>{console.error("Cannot play audio")}),this.activeAudio[i]=n,n.addEventListener("ended",()=>{var e;null==(e=this.activeAudio[i])||e.play()}),i}constructor(...e){super(...e),this.enabled=!0,this.index=0,this.activeAudio=[]}}class en{isDebug(){return this.debug}init(){this.debug=(0,k._o)()}constructor(){this.debug=!1}}var er=i(412);class eo{isMobileDevice(){return this.width<700}constructor(e,t){this.width=e,this.height=t}}class es extends et{getResolution(){return this.resolution}setResolution(e,t){this.resolution=new eo(e,t),this.notify(this.resolution)}constructor(...e){super(...e),this.resolution=null}}let ea=(0,v.XM)(),el=new w.WO,ec=new ei,eu=new en,eh={dragAndDrop:el,fileSystem:ea,sound:ec,system:eu,screen:new es},ed=new g,ep=new h.u(ed,ea,eh),em=()=>{let e=(0,y.useRef)(null),t=(0,y.useRef)(null),i=(0,y.useRef)(null),r=(0,y.useRef)(null);function o(e){e.preventDefault()}function s(e){(0,k.p5)()&&e.target.hasAttribute("data-interactive-window")&&e.preventDefault(),V({method:"camera_zoom_distance_request"}),2===e.touches.length&&(t.current=ee.fromTouchEvent("start",e))}function a(e){let n=ee.fromTouchEvent("move",e);if(2!==e.touches.length||null===t.current||null===r.current||null===i.current)return;let o=r.current,s=i.current,a=t.current;(0,k.oA)(n)&&([o.horizontalOffset,o.verticalOffset]=function(e,i){if(null===t.current)return[0,0];let n=t.current.pointerCoordinates(),r=(i.y-n.y)*.005,o=-(.005*(i.x-n.x));return[e.horizontalOffset+o,e.verticalOffset+r]}(s,n.pointerCoordinates())),(0,k.Ds)(n)&&(o.currentZoom=function(e,t,i){let{min:n,max:r,current:o}=e.zoom,s=t.boundingBox(),a=(i.boundingBox().diagonal()-s.diagonal())*.01;return(0,k.qE)(o-a,n,r)}(s,a,n)),V({method:"set_possible_camera_parameters_request",currentZoom:o.currentZoom,horizontalOffset:o.horizontalOffset,verticalOffset:o.verticalOffset})}function l(e){if(0!==e.touches.length||null===r.current)return;let t=r.current;V({method:"set_camera_parameters_request",currentZoom:t.currentZoom,verticalOffset:t.verticalOffset,horizontalOffset:t.horizontalOffset})}return(0,y.useEffect)(()=>{eu.init(),eu.isDebug()&&(0,v.qg)(ea),ep.open("/Applications/Finder.app"),ep.open("/Applications/About.app"),e.current&&function(e){e.addEventListener("gesturestart",o,{passive:!1}),e.addEventListener("touchstart",s,{passive:!1}),e.addEventListener("touchmove",a,{passive:!0}),e.addEventListener("touchend",l,{passive:!0})}(e.current);let t=function(e,t,i){return function(n){let r=function(e){var t;switch(null!=(t=e.data.method)?t:null){case"camera_zoom_distance_response":return(0,X.Ok)({method:"camera_zoom_distance_response",max_distance:e.data.max_distance,min_distance:e.data.min_distance,current_distance:e.data.current_distance,horizontal_offset:e.data.horizontal_offset,max_horizontal_offset:e.data.max_horizontal_offset,vertical_offset:e.data.vertical_offset,max_vertical_offset:e.data.max_vertical_offset});case"enable_sound_message":return(0,X.Ok)({method:"enable_sound_message",enabled:e.data.enabled});case"display_size":return(0,X.Ok)({method:"display_size",width:e.data.width,height:e.data.height});default:return(0,X._)(Error("Not a deserializable data structure"))}}(n);if(!r.ok)return;let o=r.value;switch(o.method){case"camera_zoom_distance_response":e.current=q.handleParentResponse(o),t.current=q.handleParentResponse(o);break;case"enable_sound_message":o.enabled?i.sound.enable():i.sound.disable();break;case"display_size":i.screen.setResolution(o.width,o.height)}}}(i,r,eh);return window.addEventListener("message",t,!1),V({method:"mounted"}),()=>{ep.reset(),ed.reset(),eu.isDebug()&&(0,v.Q1)(ea),e.current&&function(e){e.removeEventListener("gesturestart",o),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",l)}(e.current),window.removeEventListener("message",t,!1)}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{ref:e,className:Z().operatingSystem,children:[(0,n.jsx)(N,{manager:ep}),(0,n.jsx)(j,{apis:eh,manager:ep,windowCompositor:ed}),(0,n.jsx)(Y,{apis:eh,manager:ep,windowCompositor:ed}),(0,n.jsx)(Q,{apis:eh}),(0,n.jsx)(er.L,{apis:eh})]})})};var ef=!0;function eg(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Hayley Bloch - HTMAA Portfolio"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1.0"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:c().main,children:[(0,n.jsx)(a(),{strategy:"beforeInteractive",src:"/emulators/emulators.js"}),(0,n.jsx)(a(),{strategy:"beforeInteractive",src:"/emulators-ui/emulators-ui.js"}),(0,n.jsx)(em,{}),(0,n.jsx)(u.j,{})]})]})}},5647:(e,t,i)=>{"use strict";i.d(t,{wl:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>Promise.all([i.e(687),i.e(111)]).then(i.bind(i,6111)),{loadableGenerated:{webpack:()=>[6111]}});class s{constructor(){this.displayName="About",this.dockPriority=null,this.path="/Applications/",this.appName="About.app",this.appIcon={src:"/icons/about-app.png",alt:"About"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"About",items:[]}]}createNewWindow(e){let t=.75*window.innerWidth,i=.75*window.innerHeight-100,n=(window.innerWidth-t)/2;return this.compositor.open({x:n,y:100,height:i,width:t,title:"About",application:this,args:e.args,generator:()=>o})}on(e,t){if(this.baseHandler(e,t),"about-open-contact-event"===e.kind&&this.manager.open("/Applications/Contact.app"),"application-open"===e.kind&&this.createNewWindow(e),"application-quit"===e.kind&&!t)return}}},6002:(e,t,i)=>{"use strict";function n(e){return{event:"create_window",windowId:e}}function r(e,t,i){return{event:"update_window",moved:t,resized:i,windowId:e}}function o(e){return{event:"focus_window",windowId:e}}function s(e){return{event:"minimize_window",windowId:e}}function a(e){return{event:"maximize_window",windowId:e}}function l(){return{event:"update_windows"}}function c(e){return{event:"destroy_window",windowId:e}}function u(e){switch(e.event){case"create_window":case"update_window":case"focus_window":case"minimize_window":case"maximize_window":return e;default:return null}}i.d(t,{FC:()=>a,YL:()=>r,kZ:()=>u,n0:()=>c,pf:()=>s,r:()=>l,xP:()=>n,zB:()=>o})},6411:(e,t,i)=>{"use strict";i.d(t,{SM:()=>s,_Y:()=>a,bQ:()=>o});var n=i(6905),r=i(7117);function o(e){return e.length<=1?[]:e.slice(1,e.length)}function s(e,t,i){return e.startsWith("~")&&(e=n.X+e.slice(1,e.length)),e.startsWith("/")||(e=t.getPath()+e),(0,r.FI)(e,i)}function a(e){let t=e.split("/"),i=t[t.length-1].split(".");if(i.length<=1)return{base:e,extension:""};let n=i.length>1?".".concat(i.pop()):"";return{base:i.join("."),extension:n}}},6766:(e,t,i)=>{"use strict";function n(e){let t=[],i=0,n=[];for(;i<e.length;){let r=e[i];switch(r){case"\\":{let t=e[i+1];t&&n.push(t),i+=2;continue}case" ":n.length>0&&(t.push(n.join("")),n=[]),i+=1;continue;case'"':case"'":{let t=function(e,t,i){let n=t+1;for(;n<e.length;){let t=e[n];switch(n++,t){case"\\":n++;continue;case'"':case"'":if("double"===i||"single"===i)return n}}return n}(e,i,'"'===r?"double":"single"),o=0===n.length?i+1:i,s=0===n.length?t-1:t;for(let t of e.slice(o,s))n.push(t);i=t;continue}}n.push(r),i++}return n.length>0&&t.push(n.join("")),t}i.d(t,{RM:()=>n})},6905:(e,t,i)=>{"use strict";i.d(t,{$:()=>h,X:()=>u});var n=i(7472),r=i.n(n),o=i(6766),s=i(6411),a=i(4523),l=i(4842),c=i(5436);let u="/Users/hayley/";class h{getTerminal(){return this.terminal}getPath(){return this.path}getHostname(){return this.hostname}getRelativePath(){return this.relativePath}getPromptString(){return this.promptString.replace("{hostname}",this.hostname).replace("{path}",this.getRelativePath())}buildRelativePath(e){let t=e.split("/").filter(e=>e.length>0);if(0===t.length)return"/";let i=t.slice(-3),n=t.length>=2&&"Users"===t[0]&&"hayley"===t[1],r=t.length-i.length;if(n&&r<=1){let e=2-r;for(let t=0;t<e;t++)i.shift();i.unshift("~")}return n?1===i.length?"~":"".concat(i.join("/"),"/"):"/".concat(i.join("/"),"/")}changeDirectory(e){this.path=e,this.relativePath=this.buildRelativePath(e)}changeHostname(e){this.hostname=e}openNewProcess(e){this.applicationManager.open(e)}process(e){let t=this.apis.fileSystem,i=function(e){let t=0,i=0,n=[],r=null;for(;r=function n(){var r;function o(e){return i=t,{slice:e,output:{type:"stdout"}}}if(i===e.length)return null;let s=!1,a=!1;for(;t<e.length;){let i=e[t];if(s="|"===i,a=">"===i,t++,s||a)break}let l=t===e.length,c=e.slice(i,l?t:t-1).trim();if(s)return i=t,i=t,{slice:c,output:{type:"pipe"}};if(a){i=t;let e=n();if(null===e)return o(c);let s=null!=(r=e.slice.trim().split(" ")[0])?r:"";return i=t,{slice:c,output:{type:"output_redirection",filename:s}}}return o(c)}();)n.push(r);return n}(e);for(let[e,u]of i.entries()){var n,r;let h=e>0?i[e-1]:null,d=!!h&&"pipe"===h.output.type,p=h?'"'.concat(this.terminal.getResponseLines().join("\r\n"),'"'):"",m=d?u.slice+" "+p:u.slice,f=(0,o.RM)(m),g=u.output.type,w=null!=(r=null==(n=f[0])?void 0:n.toLocaleLowerCase())?r:null;if(null===w)return;switch(g){case"pipe":case"output_redirection":this.terminal.disableOutput();break;case"stdout":this.terminal.enableOutput()}switch(this.terminal.resetResponseLines(),w){case"clear":this.terminal.clear();break;case"ps":{let e=f.slice(1).join(" ");0===e.length?this.terminal.writeResponseLines(["hsh: ps requires a value to be set","possible variables: {hostname}, {path}"]):this.promptString=e+" ";break}default:!function(e,t,i,n){let r=n.fileSystem.getDirectory("/bin");if(r.ok){for(let o of r.value.children.iterFromHead()){let r=o.value.node;if("program"===r.kind&&r.name===e)return void r.program(t,i,n)}t.getTerminal().writeResponse("hsh: command not found: ".concat(e))}}(w,this,f,this.apis)}if("output_redirection"===u.output.type){let e=function(e,t,i,n){let r=(0,s.SM)(t,e),o=n.getNode(r),u=i.map(c.aJ).join("\r\n");if(!o.ok)return function(e,t,i){let n=(0,l.bn)(t),r=(0,l.AY)(t);if(!r)return(0,a._)("output redirection: Invalid file name");let o=e.getDirectory(n);if(!o.ok)return(0,a._)("output redirection: ".concat(n,": No such file or directory"));let c=o.value;if(!c.editableContent)return(0,a._)("output redirection: ".concat(t,": Read-only file system"));if(!(0,l.kH)(c,r))return(0,a._)("output redirection: ".concat(r,": File exists"));let{base:u,extension:h}=(0,s._Y)(r);return e.addTextFile(c,u,i,!0,h),(0,a.Ok)(null)}(n,r,u);let h=n.getNode(r);if(!h.ok)return(0,a._)("output redirection: Invalid file to append content to");let d=h.value;return"textfile"!==d.kind?(0,a._)("output redirection: Invalid file or directory it needs to be a text file"):(d.content+=u,(0,a.Ok)(null))}(this,(0,s.SM)(u.output.filename,this),this.terminal.getResponseLines(),t);e.ok||(this.terminal.enableOutput(),this.getTerminal().writeResponse(e.value))}}}constructor(e,t,i){this.terminal=e,this.applicationManager=t,this.apis=i,this.promptString="".concat(r().white("{hostname}")," ").concat(r().magentaBright("::")," ").concat(r().greenBright("{path}")," ").concat(r().blueBright("%")," "),this.hostname="h-os",this.path=u,this.relativePath="~"}}},7096:e=>{e.exports={container:"FolderIcon_container__hH1io",selected:"FolderIcon_selected__fB8C_",imageContainer:"FolderIcon_imageContainer__wu8aI",imageContainerInner:"FolderIcon_imageContainerInner__Y856M",image:"FolderIcon_image__rAevl",title:"FolderIcon_title__T7xZh",titleLine:"FolderIcon_titleLine__jas3j",editInput:"FolderIcon_editInput__93NQP",textContainer:"FolderIcon_textContainer__rXgDS"}},7117:(e,t,i)=>{"use strict";i.d(t,{qg:()=>eI,aE:()=>eD,XM:()=>eN,FI:()=>eM,ce:()=>e_,Q1:()=>eE});var n=i(4523),r=i(8583),o=i(5647),s=i(4805),a=i(9918),l=i(1502),c=i(4842),u=i(9714),h=i(1024),d=i.n(h);let p=d()(()=>Promise.all([i.e(939),i.e(864)]).then(i.bind(i,2864)),{loadableGenerated:{webpack:()=>[2864]}});class m{constructor(){this.displayName="Notes",this.dockPriority=null,this.path="/Applications/",this.appName="Notes.app",this.appIcon={src:"/icons/file-icon.png",alt:"Notes application"},this.entrypoint=(e,t,i)=>new g(e,t,i)}}let f=new m;class g extends u.l{config(){return f}menuEntries(){return[{displayOptions:{boldText:!0},name:"Notes",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Notes",application:this,args:e.args,generator:()=>p})}}let w=d()(()=>Promise.all([i.e(735),i.e(108)]).then(i.bind(i,7108)),{loadableGenerated:{webpack:()=>[7108]}});class v{constructor(){this.displayName="Image",this.dockPriority=null,this.path="/Applications/",this.appName="Image.app",this.appIcon={src:"/icons/image-icon.png",alt:"Image application"},this.entrypoint=(e,t,i)=>new b(e,t,i)}}let y=new v;class b extends u.l{config(){return y}menuEntries(){return[{displayOptions:{boldText:!0},name:"Image",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Image",application:this,args:e.args,generator:()=>w})}}var x=i(9577),k=i(3019),A=i(8221),_=i(9073),N=i(6411),I=i(7472);function E(e,t,i){var n;let r=i.fileSystem,o=null!=(n=t[1])?n:e.getPath(),s=(0,N.SM)(o,e,!0),a=r.getDirectory(s);if(!a.ok)return void e.getTerminal().writeResponse("ls: ".concat(o,": No such file or directory"));for(let t of a.value.children.iterFromHead()){let i=t.value.node;e.getTerminal().writeResponse(function(e){let t="directory"===e.kind,i=e.name+e.filenameExtension;return t?(0,I.blueBright)(i):i}(i))}}class T{constructor(){this.appName="ls",this.program=E}}let L=new T;function D(e,t,i){let n=e.getPath();e.getTerminal().writeResponse(n)}class C{constructor(){this.appName="pwd",this.program=D}}let P=new C;function j(e,t,i){var n;let r=i.fileSystem,o=null!=(n=t[1])?n:null;o||(o="/Users/hayley/");let s=(0,N.SM)(o,e,!0);if(!r.getDirectory(s).ok)return void e.getTerminal().writeResponse("cd: no such file or directory: ".concat(o));e.changeDirectory(s)}class M{constructor(){this.appName="cd",this.program=j}}let O=new M;function R(e,t,i){var n;function r(e,t){return!!o.getNode(t).ok&&(e.openNewProcess(t),!0)}let o=i.fileSystem,s=null!=(n=t[1])?n:null;if(!s)return void e.getTerminal().writeResponseLines(["Usage: open filename","Help: Open opens files from a shell.","By default, opens each file using the default application for that file.","If the file is in the form of a URL, the file will be opened as a URL."]);s.startsWith("/")||(s=e.getPath()+"/"+s);let a=eM(s),l=a.endsWith("/");r(e,a)||!l&&r(e,a+"/")||e.getTerminal().writeResponse("The file ".concat(a," does not exist."))}class S{constructor(){this.appName="open",this.program=R}}let F=new S;function z(e,t,i){var n;let r=i.fileSystem,o=null!=(n=t[1])?n:null;if(!o)return;let s=(0,N.SM)(o,e),a=r.getNode(s);if(!a.ok)return void e.getTerminal().writeResponse("cat: no such file or directory: ".concat(o));let l=a.value;switch(l.kind){case"directory":e.getTerminal().writeResponse("cat: ".concat(o,": Is a directory"));break;case"image":e.getTerminal().writeResponse("cat: ".concat(o,": Is an image"));break;case"textfile":e.getTerminal().writeResponseLines(l.content.split("\n"));break;case"application":e.getTerminal().writeResponse("cat: ".concat(o,": Is an application"));break;case"hyperlink":e.getTerminal().writeResponse("cat: ".concat(o,": Is a hyperlink"));break;case"program":e.getTerminal().writeResponse("cat: ".concat(o,": Is a program"))}}class W{constructor(){this.appName="cat",this.program=z}}let H=new W;function G(e,t,i,n,r){return i.editableContent?(0,c.kH)(i,n)?(t.addDirectory(i,n,!0,!0),!0):(e.getTerminal().writeResponse("mkdir: ".concat(n,": File exists")),!1):(e.getTerminal().writeResponse("mkdir: ".concat(r,": Read-only file system")),!1)}function U(e,t,i){var r;let o=i.fileSystem,s="-p"===t[1],a=null!=(r=t[!s?1:2])?r:null;if(!a)return void e.getTerminal().writeResponse("usage: mkdir [-p] directory_name");let l=(0,N.SM)(a,e,!0);(s?function(e,t,i){let r,o=(0,c.bn)(i),s=(0,c.KC)(o),a=(0,c.AY)(i);if(!a)return;let l="/",u=(0,n.o)(t.getDirectory(l));for(;r=s.shift();){l+="".concat(r,"/");let o=t.getNode(l);if(o.ok){if("directory"!==o.value.kind)return void e.getTerminal().writeResponse("mkdir: ".concat(r,": Not a directory"));u=o.value}else{if(!G(e,t,u,r,i))return;u=(0,n.o)(t.getDirectory(l))}}G(e,t,u,a,i)}:function(e,t,i){let n=(0,c.bn)(i),r=(0,c.AY)(i);if(!r)return;let o=t.getDirectory(n);if(!o.ok)return void e.getTerminal().writeResponse("mkdir: ".concat(n,": No such file or directory"));G(e,t,o.value,r,i)})(e,o,l)}class Y{constructor(){this.appName="mkdir",this.program=U}}let B=new Y;function Z(e,t,i){var n,r;let o=i.fileSystem,s=(null!=(n=t[1])?n:"").startsWith("-"),a=s?t[1]:"",l=a.indexOf("r")>0,u=l||a.indexOf("d")>0,h=null!=(r=t[s?2:1])?r:null;if(!h)return void e.getTerminal().writeResponse("usage: rm [-dr] file");let d=(0,N.SM)(h,e,!1),p=function(e,t){let i=e.endsWith("/");{let i=t.getNode(e);if(i.ok)return i.value}if(i)return null;{let i=t.getNode(e+"/");if(i.ok)return i.value}return null}(d,o);if(!p)return void e.getTerminal().writeResponse("rm: ".concat(h,": No such file or directory"));if("directory"===p.kind){if(!u)return void e.getTerminal().writeResponse("rm: ".concat(h,": is a directory"));if(!l&&p.children.count()>0)return void e.getTerminal().writeResponse("rm: ".concat(h,": Directory not empty"))}if("/"===d)return void e.getTerminal().writeResponse("Moginistrator: I can't let you do that, kupo!");if(!p.editable)return void e.getTerminal().writeResponse("rm: ".concat(h,": Insufficient permissions to remove"));let m=p.parent;o.removeNodeFromDirectory(p),o.getDirectory(e.getPath()).ok||e.changeDirectory((0,c.tG)(m))}class J{constructor(){this.appName="rm",this.program=Z}}let Q=new J;function X(e,t,i){var n;let r=i.fileSystem,o=null!=(n=t[1])?n:null;if(!o)return void e.getTerminal().writeResponse("usage: touch file_name");let s=(0,N.SM)(o,e,!0);!function(e,t,i){let n=(0,c.bn)(i),r=(0,c.AY)(i);if(!r)return;let o=t.getDirectory(n);if(!o.ok)return e.getTerminal().writeResponse("touch: ".concat(n,": No such file or directory"));!function(e,t,i,n,r){if(!i.editableContent)return e.getTerminal().writeResponse("touch: ".concat(r,": Read-only file system"));if(!(0,c.kH)(i,n))return e.getTerminal().writeResponse("touch: ".concat(n,": File exists"));let{base:o,extension:s}=(0,N._Y)(n);t.addTextFile(i,o,"",!0,s)}(e,t,o.value,r,i)}(e,r,s)}class V{constructor(){this.appName="touch",this.program=X}}let q=new V;function K(e){return e.endsWith("/")}function $(e){return e+(K(e)?"":"/")}function ee(e,t,i){var n,r;let o=i.fileSystem,s=null!=(n=t[1])?n:null,a=null!=(r=t[2])?r:null;if(!s||!a)return void e.getTerminal().writeResponse("usage: mv source target");let l=o.getDirectory((0,N.SM)(s,e)).ok?$(s):s,u=function(e,t,i,n){if(i.getDirectory((0,N.SM)(t,n)).ok||K(t)){var r;return $(t)+((null!=(r=(0,c.AY)(e))?r:"")+(K(e)?"/":""))}return t}(l,a,o,e),h=(0,N.SM)(l,e),d=(0,N.SM)(u,e);return o.getNode(h).ok?o.getNode(d).ok?void e.getTerminal().writeResponse("mv: ".concat(u,": already exists")):void!function(e,t,i,n){let r=(0,N.SM)(e,n),o=(0,N.SM)(t,n),s=(0,c.bn)(o),a=i.getDirectory(s),l=i.getNode(r);if(!a.ok||!l.ok)return n.getTerminal().writeResponse("mv: rename ".concat(e," to ").concat(t,": No such file or directory"));let u=l.value,h=a.value;if(!u.editable)return n.getTerminal().writeResponse("mv: ".concat(e,": Read-only file"));if(!h.editableContent)return n.getTerminal().writeResponse("mv: ".concat(t,": Read-only file system"));let d=function(e){let t=e.split(".");return t.length>1&&t.pop(),t.join(".")}((0,c.AY)(o));i.renameAndMove(u,d,h)}(l,u,o,e):void e.getTerminal().writeResponse("mv: rename ".concat(l," to ").concat(u,": No such file or directory"))}class et{constructor(){this.appName="mv",this.program=ee}}let ei=new et;function en(e,t,i){e.getTerminal().writeResponseLines(["H-OS Generic alpha build, (C)1998 Hayleysoft, bv.","Authorized use only.","All activity is monitored and may be reported.",""])}class er{constructor(){this.appName="motd",this.program=en}}let eo=new er;var es=i(5436);function ea(e,t){let i=2+e.length;return(0,es.ti)((0,es.cv)((0,I.greenBright)(e),i),12)+t}function el(e,t,i){e.getTerminal().writeResponseLines(["Available commands:",ea("cat","Print file content."),ea("open","Open files or applications."),ea("motd","Display message of the day."),ea("help","Displays this menu."),ea("cd","Changes the current directory."),ea("ls","Lists directory content."),ea("mkdir","Create a new directory."),ea("touch","Create a new text file."),ea("rm","Removes files or directories."),ea("pwd","Prints Path of current working directory."),ea("clear","Clear the terminal screen."),ea("ps","Set prompt string."),ea("neofetch","Display system information."),ea("uwu","uwufies your text."),"This shell supports pipes (|) and output redirection (>)"])}class ec{constructor(){this.appName="help",this.program=el}}let eu=new ec;class eh{random(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e>t?(0,n._)(Error("The minimum value must be below the maximum value")):e===t?(0,n._)(Error("The minimum value cannot equal the maximum value")):(0,n.Ok)(e+this.sfc32()*(t-e))}xmur3(e){let t=0x6a09e667^e.length;for(let i=0;i<e.length;i++)t=(t=Math.imul(t^e.charCodeAt(i),0xcc9e2d51))<<13|t>>>19;return()=>(t=Math.imul((t=Math.imul(t^t>>>16,0x85ebca6b))^t>>>13,0xc2b2ae35),(t^=t>>>16)>>>0)}sfc32(){let e=this.seeder(),t=this.seeder(),i=this.seeder(),n=this.seeder();i>>>=0,n>>>=0;let r=(e>>>=0)+(t>>>=0)|0;return e=t^t>>>9,t=i+(i<<3)|0,i=(i=i<<21|i>>>11)+(r=r+(n=n+1|0)|0)|0,(r>>>0)/0x100000000}constructor(e){this.seeder=this.xmur3(e)}}function ed(e){return 0===e.length?"":1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}function ep(e){return e===e.toUpperCase()}let em=[["small","smol"],["cute","kawaii~"],["fluff","floof"],["stupid","baka"],["what","nani"],["meow","nya"]],ef=[[/(?:r|l)/g,"w"],[/(?:R|L)/g,"W"],[/n([aeiou])/g,"ny$1"],[/N([aeiou])/g,"Ny$1"],[/N([AEIOU])/g,"NY$1"],[/ove/g,"uv"]],eg=[" rawr x3"," OwO"," UwU"," o.O"," -.-"," >w<"," (⑅˘꒳˘)"," (ꈍᴗꈍ)"," (˘ω˘)"," (U ᵕ U❁)"," σωσ"," \xf2ω\xf3"," (///ˬ///✿)"," (U ﹏ U)"," ( ͡o ω ͡o )"," ʘwʘ"," :3"," :3"," :3"," :3"," XD"," nyaa~~"," mya"," >_<"," rawr"," (ˆ ﻌ ˆ)♡"," ^•ﻌ•^"," /(^•ω•^)"," (✿oωo))"];function ew(e,t){return(0,n.o)(e.random())>1-t}function ev(e,t,i){let r=(0,N.bQ)(t).join(" ");e.getTerminal().writeResponse(function(e){var t,i;let r=new eh(e),o=new Set,s=e.split(" ");return t=s=s.map((e,t)=>{let i=e.toLowerCase();for(let[r,s]of em){let a=i.indexOf(r);if(a<0)continue;let l=e.slice(a,a+r.length),c=function(e,t){return e===ed(e)?ed(t):ep(e)?t.toUpperCase():e===e.toLowerCase()?t.toLowerCase():t}(l,s);o.add(t);var n=l.length;return e.slice(0,a)+c+e.slice(a+n)}return e}),i=s=t.map((e,t)=>{if(o.has(t))return e;for(let[t,i]of ef)ew(r,.9)&&(e=e.replace(t,i));return e}),(s=function(e,t){function i(e){return[".",",","?","!"].includes(e)}return e.map((r,o)=>{if(!ew(t,.85)||!function(e,t){let n=e[t].trim();return!(n.length<1||n.length>1&&i(n[n.length-2])&&i(n[n.length-1]))&&i(n[n.length-1])}(e,o))return r;let s=Math.floor((0,n.o)(t.random(0,eg.length))),a=eg[s];return"\n"!==r[r.length-1]?r+a:r.trim()+a+"\r\n"})}(s=i.map(e=>{if(!ew(r,.25))return e;if(e.length<1)return e;let t=e.charAt(0),i=t.charCodeAt(0);return i>=65&&i<91||i>=97&&i<123?ep(e)?"".concat(t.toUpperCase(),"-").concat(e.toUpperCase()):e===ed(e)?"".concat(t.toUpperCase(),"-").concat(e.toLowerCase()):"".concat(t,"-").concat(e):e}),r)).join(" ")}(r))}class ey{constructor(){this.appName="uwu",this.program=ev}}let eb=new ey;function ex(e,t,i){function n(e,t){return"".concat((0,I.greenBright)(e)," ").concat((0,I.white)(t))}let r=window.innerWidth,o=window.innerHeight;e.getTerminal().writeResponseLines(["⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣤⣤⣤⣤⣤⣶⣦⣤⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀ ".concat((0,I.greenBright)("hayley")+(0,I.white)("@")+(0,I.greenBright)(e.getHostname())),"⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⡿⠛⠉⠙⠛⠛⠛⠛⠻⢿⣿⣷⣤⡀⠀⠀⠀⠀⠀ ".concat((0,I.white)("===============")),"⠀⠀⠀⠀⠀⠀⠀⠀⣼⣿⠋⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⠈⢻⣿⣿⡄⠀⠀⠀⠀ ".concat(n("OS:","h-os 1.0.0")),"⠀⠀⠀⠀⠀⠀⠀⣸⣿⡏⠀⠀⠀⣠⣶⣾⣿⣿⣿⠿⠿⠿⢿⣿⣿⣿⣄⠀⠀⠀ ".concat(n("Host:","h-system 10.0")),"⠀⠀⠀⠀⠀⠀⠀⣿⣿⠁⠀⠀⢰⣿⣿⣯⠁⠀⠀⠀⠀⠀⠀⠀⠈⠙⢿⣷⡄⠀ ".concat(n("Kernel:","1.0.0")),"⠀⠀⣀⣤⣴⣶⣶⣿⡟⠀⠀⠀⢸⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣷⠀ ".concat(n("Uptime:","A long time")),"⠀⢰⣿⡟⠋⠉⣹⣿⡇⠀⠀⠀⠘⣿⣿⣿⣿⣷⣦⣤⣤⣤⣶⣶⣶⣶⣿⣿⣿⠀ ".concat(n("Shell:","hsh 0.5")),"⠀⢸⣿⡇⠀⠀⣿⣿⡇⠀⠀⠀⠀⠹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠃⠀ ".concat(n("Resolution:","".concat(r,"x").concat(o))),"⠀⣸⣿⡇⠀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠉⠻⠿⣿⣿⣿⣿⡿⠿⠿⠛⢻⣿⡇⠀⠀","⠀⣿⣿⠁⠀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣧⠀⠀","⠀⣿⣿⠀⠀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⠀⠀","⠀⣿⣿⠀⠀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⠀⠀","⠀⢿⣿⡆⠀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⡇⠀⠀","⠀⠸⣿⣧⡀⠀⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⠃⠀⠀","⠀⠀⠛⢿⣿⣿⣿⣿⣇⠀⠀⠀⠀⠀⣰⣿⣿⣷⣶⣶⣶⣶⠶⠀⢠⣿⣿⠀⠀⠀","⠀⠀⠀⠀⠀⠀⠀⣿⣿⠀⠀⠀⠀⠀⣿⣿⡇⠀⣽⣿⡏⠁⠀⠀⢸⣿⡇⠀⠀⠀","⠀⠀⠀⠀⠀⠀⠀⣿⣿⠀⠀⠀⠀⠀⣿⣿⡇⠀⢹⣿⡆⠀⠀⠀⣸⣿⠇⠀⠀⠀","⠀⠀⠀⠀⠀⠀⠀⢿⣿⣦⣄⣀⣠⣴⣿⣿⠁⠀⠈⠻⣿⣿⣿⣿⡿⠏⠀⠀⠀⠀","⠀⠀⠀⠀⠀⠀⠀⠈⠛⠻⠿⠿⠿⠿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"])}class ek{constructor(){this.appName="neofetch",this.program=ex}}let eA=new ek;function e_(e){switch(e.kind){case"application":case"hyperlink":return e.icon;case"directory":if(e.icon)return e.icon;return{src:"/icons/folder-icon.png",alt:"Directory icon"};case"hyperlink":return{src:"/icons/folder-icon.png",alt:"Hyperlink icon"};case"textfile":return{src:"/icons/file-icon.png",alt:"File icon"};case"image":return{src:"/icons/file-icon.png",alt:"Image icon"};case"program":return{src:"/icons/file-icon.png",alt:"Program icon"}}}function eN(){let e=new eO,t=e.getDirectory("/");if(!t.ok)return e;let i=t.value,n={src:"/icons/icon-applications-folder.png",alt:"Application folder"},r=e.addDirectory(i,"Applications",!1,!1,n);e.addApplication(s.tV),e.addApplication(x.Ht),e.addApplication(o.wl),e.addApplication(f),e.addApplication(_.vM),e.addApplication(y),e.addApplication(A.Lt),e.addDirectory(i,"home",!1,!1);let a=e.addDirectory(i,"Users",!1,!1),l=e.addDirectory(a,"hayley",!1,!0),c=e.addDirectory(l,"Desktop",!1,!0),u=e.addDirectory(l,"Documents",!1,!0,{src:"/icons/icon-documents-folder.png",alt:"Documents folder"}),h=e.addDirectory(l,"Trash",!1,!0,{src:"/icons/trash-icon.png",alt:"Trash can icon"});e.addHyperLink(c,r,"Applications",n,!0),e.addTextFile(c,"readme",'Hey, welcome to my HTMAA portfolio!\n\nThis website documents my journey through MIT\'s "How to Make (Almost) Anything" program, showcasing my weekly assignments and projects in fabrication, electronics, and digital design.\n\nExplore my weekly progress as I learn to make almost anything.\n\nPlease enjoy, and explore as much as you would like!\n',!0),e.addTextFile(u,"libraries","For this portfolio I used some libraries, so to give some credit:\nThree - https://threejs.org/ Awesome library for 3D web stuff.\nNextjs - https://nextjs.org/ Great framework to build your React app in.\nTurborepo - https://turbo.build/ Lovely and fast build system for monorepos and great integration with Vercel.\nxtermjs - https://xtermjs.org/ A great terminal emulator that made the terminal possible.\n",!0),e.addImage(h,"Cheems",".png","/images/temp.png","A lovely debug image",!0);let d=e.addDirectory(i,"bin",!1,!1);return e.addProgram(d,L),e.addProgram(d,P),e.addProgram(d,O),e.addProgram(d,F),e.addProgram(d,H),e.addProgram(d,B),e.addProgram(d,Q),e.addProgram(d,q),e.addProgram(d,ei),e.addProgram(d,eo),e.addProgram(d,eu),e.addProgram(d,eb),e.addProgram(d,eA),e}function eI(e){e.addApplication(r.mj)}function eE(e){let t=e.getApplication("/Applications/Debug.app");t.ok&&e.removeNodeFromDirectory(t.value)}function eT(e,t,i,n){let{width:r,height:o}=n,s=0;for(let n of e){let e={x1:t,x2:t+r,y1:i,y2:i+o},l={x1:n.x,x2:n.x+r,y1:n.y,y2:n.y+o};(0,a.db)(e,l)&&s++}return s}function eL(e,t,i,n){let r=t.sortDirection,o=t.sortOrigin,s=Math.floor(i.width/n.width),a=Math.floor(i.height/n.height),l=function(e,t){switch(t){case"horizontal":return e%s;case"vertical":return Math.floor(e/a)}}(e,r)*n.width;return"top-right"===o&&(l=i.width-n.width-l),{x:l,y:function(e,t){switch(t){case"horizontal":return Math.floor(e/s);case"vertical":return e%a}}(e,r)*n.height}}function eD(e,t,i){let n={width:k.IconWidth,height:k.IconHeight},r=function(e,t,i){let n=Math.floor(t.width/i.width),r=Math.floor(t.height/i.height),o=[],s=n*r;for(let n=0;n<s;n++)o.push(eL(n,e,t,i));return o}(e,t,n),o=r.find(e=>0===eT(i,e.x,e.y,n));if(o)return o;switch(t.overflowBehavior){case"overflow":{let o,s=r.length;do o=eL(s++,e,t,n);while(0!==eT(i,o.x,o.y,n));return o}case"overlay":{let o,s=0,a=1;do o=eL(s++,e,t,n),0!==s&&s%r.length==0&&(s=0,a++);while(eT(i,o.x,o.y,n)>a);return o}}}function eC(e,t){let i=e;for(;i;){if(i.id===t.id)return!0;i=i.parent}return!1}function eP(e){return!!e&&e.editable}function ej(e){return e.editable||e.editableContent}function eM(e,t){let i=e.endsWith("/")||t,n=e.split("/").filter(e=>e.length>0),r=[];for(let e=0;e<n.length;e++){let t=e===n.length-1,o=n[e];switch(o){case".":t&&(i=!0);break;case"..":r.pop();break;default:r.push(o)}}return 0===r.length?"/":"/"+r.join("/")+(i?"/":"")}class eO{subscribe(e,t){return this.nodeListeners[e.id]||(this.nodeListeners[e.id]=[]),this.nodeListeners[e.id].push(t),()=>{this.unsubscribe(e,t)}}unsubscribe(e,t){for(let[i,n]of this.nodeListeners[e.id].entries())if(n===t)return void this.nodeListeners[e.id].splice(i)}propagateNodeEvent(e,t){let i=this.nodeListeners[e.id];if(i)for(let e of i)e(t)}getNode(e){let t=this.lookupTable[eM(e)];return t?(0,n.Ok)(t):(0,n._)(Error("Node not found"))}updateLookupTableWithPrefix(e){Object.entries(this.lookupTable).filter(t=>{let[i]=t;return i.startsWith(e)}).forEach(e=>{let[t,i]=e;delete this.lookupTable[t];let n=(0,c.tG)(i);this.lookupTable[n]=i,this.propagateNodeEvent(i,{kind:"rename",path:n})})}renameAndMove(e,t,i){if(eC(i,e))return(0,n._)(Error("Node is a parent of the target directory"));if(!eP(e))return(0,n._)(Error("Node or target directory is not editable"));if(!ej(i))return(0,n._)(Error("Target directory does not allow modification"));let r=(0,c.tG)(e);this.removeNodeFromDirectory(e),e.parent&&this.propagateNodeEvent(e.parent,{kind:"update"}),e.name=t;let o=this.addNodeToDirectory(i,e),s=(0,c.tG)(e);return r!==s&&this.updateLookupTableWithPrefix(r),this.propagateNodeEvent(e,{kind:"rename",path:s}),this.propagateNodeEvent(e.parent,{kind:"update"}),(0,n.Ok)(o)}renameNode(e,t){if(!e.parent)return(0,n._)(Error("A parent is required, to rename the directory"));if(!(0,c.kH)(e.parent,t))return(0,n._)(Error("Duplicate filename"));if(t.length<1)return(0,n._)(Error("The name is too short"));let i=(0,c.tG)(e);e.name=t;let r=(0,c.tG)(e);return i!==r&&this.updateLookupTableWithPrefix(i),this.propagateNodeEvent(e,{kind:"rename",path:r}),this.propagateNodeEvent(e.parent,{kind:"update"}),(0,n.Ok)(e)}moveNode(e,t){var i;if(eC(t,e))return(0,n._)(Error("Node is a parent of the target directory"));if(!eP(e))return(0,n._)(Error("Node or target directory is not editable"));if(!ej(t))return(0,n._)(Error("Target directory does not allow modification"));if(t.id===(null==(i=e.parent)?void 0:i.id)){let i=t.children.iterFromTail().find(t=>t.node.id===e.id);return i?(0,n.Ok)(i):(0,n._)(Error("Parent moved in the same directory, but cannot be found in the directory listing"))}let r=(0,c.tG)(e);this.removeNodeFromDirectory(e),e.parent&&this.propagateNodeEvent(e.parent,{kind:"update"});let o=this.addNodeToDirectory(t,e);return r!==(0,c.tG)(e)&&this.updateLookupTableWithPrefix(r),(0,n.Ok)(o)}getApplication(e){let t=this.getNode(e);return t.ok?"application"!==t.value.kind?(0,n._)(Error("Node is not an application")):(0,n.Ok)(t.value):t}getDirectory(e){e.endsWith("/")||(e+="/");let t=this.getNode(e);return t.ok?"directory"!==t.value.kind?(0,n._)(Error("Node is not a directory")):(0,n.Ok)(t.value):t}getImage(e){let t=this.getNode(e);return t.ok?"image"!==t.value.kind?(0,n._)(Error("Node is not an image")):(0,n.Ok)(t.value):t}addApplication(e){var t,i;let r=this.lookupTable[e.path];if("directory"!==r.kind)return(0,n._)(Error("Parent is not a directory"));let o=(t=++this.id,i=e.appName,{id:t,parent:r,icon:e.appIcon,kind:"application",name:i,filenameExtension:"",editable:!1,entrypoint:e.entrypoint});return this.addNodeToDirectory(r,o),this.lookupTable[(0,c.tG)(o)]=o,this.propagateNodeEvent(r,{kind:"update"}),(0,n.Ok)(o)}addProgram(e,t){var i;let n=(i=++this.id,{id:i,parent:e,kind:"program",name:t.appName,filenameExtension:"",editable:!1,program:t.program});return this.addNodeToDirectory(e,n),this.lookupTable[(0,c.tG)(n)]=n,this.propagateNodeEvent(e,{kind:"update"}),n}addDirectory(e,t,i,n,r){var o;let s=(o=++this.id,{id:o,parent:e,kind:"directory",settings:{alwaysOpenAsIconView:!1,sortBy:null,sortDirection:"horizontal",sortOrigin:"top-left"},content:{view:"icons",width:480,height:800,overflowBehavior:"overflow"},icon:r,name:t,filenameExtension:"",editable:i,editableContent:n,children:new l.sW});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addTextFile(e,t,i,n){var r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:".txt",s=(r=++this.id,{id:r,parent:e,kind:"textfile",name:t,filenameExtension:o,content:i,editable:n});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addImage(e,t,i,n,r,o){var s;let a=(s=++this.id,{id:s,parent:e,kind:"image",name:t,filenameExtension:i,source:n,description:r,editable:o});return this.addNodeToDirectory(e,a),this.lookupTable[(0,c.tG)(a)]=a,this.propagateNodeEvent(e,{kind:"update"}),a}addHyperLink(e,t,i,n,r){var o;let s=(o=++this.id,{id:o,parent:e,target:t,kind:"hyperlink",filenameExtension:"",icon:n,name:i,editable:r});return this.addNodeToDirectory(e,s),this.lookupTable[(0,c.tG)(s)]=s,this.propagateNodeEvent(e,{kind:"update"}),s}addNodeToDirectory(e,t){let{x:i,y:n}=eD(e.settings,e.content,e.children.toArray());t.parent=e;let r={node:t,x:i,y:n};return e.children.append(r),r}removeNodeFromDirectory(e){let t=e.parent;if(!t)return;let i=function(e,t){for(let i of e.children.iterFromTail())if(i.value.node.id===t.id)return(0,n.Ok)(i);return(0,n._)(Error("Unable to find node within the directory chain"))}(t,e);if(!i.ok)return;let r=i.value;if(t.children.unlink(r),"directory"===r.value.node.kind){let t=(0,c.tG)(e);this.lookupTable[t]&&delete this.lookupTable[t]}}constructor(){this.lookupTable={},this.nodeListeners={},this.root={id:0,parent:null,kind:"directory",settings:{alwaysOpenAsIconView:!1,sortBy:null,sortDirection:"horizontal",sortOrigin:"top-left"},content:{view:"icons",width:480,height:800,overflowBehavior:"overflow"},name:"/",filenameExtension:"",editable:!1,editableContent:!1,children:new l.sW},this.lookupTable["/"]=this.root,this.id=1}}},7523:e=>{e.exports={main:"Home_main__VkIEL"}},7657:e=>{e.exports={dock:"Dock_dock__vGUDx",dockContainer:"Dock_dockContainer__FcdWC","dock-application":"Dock_dock-application__I63Vg",hovered:"Dock_hovered__42ts6","dock-app-image":"Dock_dock-app-image__xh7WA","dock-app-active-image":"Dock_dock-app-active-image__7_37y",status:"Dock_status__J3320",separator:"Dock_separator___xIm7"}},7703:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(5612)}])},8221:(e,t,i)=>{"use strict";i.d(t,{Lt:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>Promise.all([i.e(13),i.e(810)]).then(i.bind(i,5810)),{loadableGenerated:{webpack:()=>[5810]}});class s{constructor(){this.displayName="Skills",this.dockPriority=null,this.path="/Applications/",this.appName="Skills.app",this.appIcon={src:"/icons/skills-icon.png",alt:"Skills application"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"Skills",items:[]}]}on(e,t){if(this.baseHandler(e,t),"application-open"===e.kind){let t=(window.innerWidth-700)/2;this.compositor.open({x:t,y:95,height:600,width:700,title:"Skills",application:this,args:e.args,generator:()=>o})}}}},8247:(e,t,i)=>{"use strict";function n(e,t){return{kind:"application-open",isFirst:e,args:t}}function r(){return{kind:"application-quit"}}function o(e){return{kind:"window-open",windowId:e}}function s(e){return{kind:"window-close",windowId:e}}function a(){return{kind:"all-windows-closed"}}i.d(t,{X:()=>n,_h:()=>r,di:()=>s,hJ:()=>a,px:()=>o})},8583:(e,t,i)=>{"use strict";i.d(t,{mj:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>i.e(60).then(i.bind(i,9060)),{loadableGenerated:{webpack:()=>[9060]}});class s{constructor(){this.displayName="Debug",this.dockPriority=null,this.path="/Applications/",this.appName="Debug.app",this.appIcon={src:"/icons/folder-icon.png",alt:"Debug application"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"Debug",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:200,y:200,height:400,width:400,title:"Debug application",application:this,args:e.args,generator:()=>o})}}},9073:(e,t,i)=>{"use strict";i.d(t,{vM:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>Promise.all([i.e(526),i.e(382)]).then(i.bind(i,9382)),{loadableGenerated:{webpack:()=>[9382]}});class s{constructor(){this.displayName="Terminal",this.dockPriority=null,this.path="/Applications/",this.appName="Terminal.app",this.appIcon={src:"/icons/terminal-icon.png",alt:"Terminal"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"Terminal",items:[]}]}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&this.compositor.open({x:150,y:150,height:450,width:600,title:"Terminal",application:this,args:e.args,generator:()=>o})}}},9577:(e,t,i)=>{"use strict";i.d(t,{Ht:()=>a});var n=i(9714),r=i(1024);let o=i.n(r)()(()=>Promise.all([i.e(609),i.e(430)]).then(i.bind(i,4430)),{loadableGenerated:{webpack:()=>[4430]}});class s{constructor(){this.displayName="Contact",this.dockPriority=null,this.path="/Applications/",this.appName="Contact.app",this.appIcon={src:"/icons/contact-app.png",alt:"Contact application"},this.entrypoint=(e,t,i)=>new l(e,t,i)}}let a=new s;class l extends n.l{config(){return a}menuEntries(){return[{displayOptions:{boldText:!0},name:"Contact",items:[]}]}createNewWindow(e){let t=.6*window.innerWidth,i=(window.innerWidth-t)/2;return this.compositor.open({x:i,y:90,height:600,width:t,title:"Contact",application:this,args:e.args,generator:()=>o})}focusWindow(){this.currentWindow&&this.compositor.focus(this.currentWindow.id)}on(e,t){this.baseHandler(e,t),"application-open"===e.kind&&(this.currentWindow?this.focusWindow():this.currentWindow=this.createNewWindow(e)),"application-quit"===e.kind&&(this.currentWindow=null)}constructor(...e){super(...e),this.currentWindow=null}}},9714:(e,t,i)=>{"use strict";i.d(t,{l:()=>h,u:()=>d});var n=i(6002);class r{focus(e){this.compositor.focus(e)}open(e){let t=this.compositor.open(e);return this.instances[t.id]=t,t}subscribe(e,t){return this.compositor.subscribeWithFilter(function(t){let i=(0,n.kZ)(t);return!!i&&i.windowId==e},t)}subscribeWithFilter(e,t,i){return this.compositor.subscribeWithFilter(function(i){let r=(0,n.kZ)(i);return!!r&&r.windowId===e&&t(i)},i)}getById(e){var t;return null!=(t=this.instances[e])?t:null}update(e){e.id in this.instances&&this.compositor.update(e)}close(e){e in this.instances&&(this.compositor.close(e),delete this.instances[e])}async alert(e,t){return await this.compositor.alert(e,t)}async prompt(e,t,i){return await this.compositor.prompt(e,t,i)}closeAll(){for(let e in this.instances)this.close(+e)}constructor(e){this.compositor=e,this.instances={}}}var o=i(4523);class s{open(e){return this.manager.open(e)}kill(e){return this.manager.kill(e)}quit(){return this.kill(this.processId)}constructor(e,t){this.processId=e,this.manager=t}}var a=i(8247),l=i(6766),c=i(4842);class u{constructor(e,t){this.path=e,this.compositor=t}}class h{baseHandler(e,t){if("all-windows-closed"===e.kind||"application-kill"===e.kind)return void this.manager.quit()}subscribeToWindowEvents(e,t){return this.windowListeners[e]||(this.windowListeners[e]=[]),this.windowListeners[e].push(t),()=>{this.unsubscribeFromWindowEvents(e,t)}}unsubscribeFromWindowEvents(e,t){for(let[i,n]of this.windowListeners[e].entries())if(n===t)return void this.windowListeners[e].splice(i)}sendEventToView(e,t){let i=this.windowListeners[e];if(i)for(let e of i)e(t)}sendEventToAllViews(e){for(let t of Object.values(this.windowListeners))for(let i of t)i(e)}constructor(e,t,i){this.compositor=e,this.manager=t,this.apis=i,this.windowListeners={}}}class d{subscribe(e){return this.observers.push(e),()=>{this.unsubscribe(e)}}unsubscribe(e){for(let[t,i]of this.observers.entries())if(i===e)return void this.observers.splice(t)}publishChanges(e){for(let t of this.observers)t(e)}focus(e){console.log("Application focussed: ".concat(e.config().displayName)),this.publishChanges({kind:"focus",application:e})}listApplications(){return this.processes.filter(e=>null!==e).map(e=>e.application)}openApplication(e,t,i){let n=new r(this.windowCompositor),l=new s(this.processId,this),c=this.processes.find(e=>(null==e?void 0:e.context.path)===t);if(c)return c.application.on((0,a.X)(!1,i)),(0,o.Ok)(c.processId);{let r={application:e.entrypoint(n,l,this.apis),context:new u(t,n),processId:this.processId};return this.processes.push(r),r.application.on((0,a.X)(!0,i)),this.publishChanges({kind:"update"}),(0,o.Ok)(this.processId++)}}openDirectory(e){return this.open("/Applications/Finder.app ".concat(e))}openTextFile(e){return this.open("/Applications/Notes.app ".concat(e))}openImage(e){return this.open("/Applications/Image.app ".concat(e))}openFileSystemNode(e,t,i){switch(e.kind){case"application":return this.openApplication(e,t,i);case"directory":return this.openDirectory(t);case"textfile":return this.openTextFile(t);case"image":return this.openImage(t);case"hyperlink":{let t=e.target,n=(0,c.tG)(t);return this.openFileSystemNode(t,n,i)}default:return(0,o._)(Error("Not yet implemented"))}}open(e){var t,i;let n=(0,l.RM)(e),r=null!=(t=n.splice(0,1)[0])?t:"",s=null!=(i=n.join(" "))?i:"",a=this.fileSystem.getNode(r);if(!a.ok)return(0,o._)(Error("File not found"));let c=a.value;return this.openFileSystemNode(c,r,s)}kill(e){let t=this.processes[e];null!==t&&(t.application.on((0,a._h)()),t.context.compositor.closeAll(),this.processes[e]=null,this.publishChanges({kind:"update"}))}reset(){for(let e=0;e<this.processId;e++)this.kill(e);this.processId=0,this.processes=[],this.observers=[]}constructor(e,t,i){this.windowCompositor=e,this.fileSystem=t,this.apis=i,this.processId=0,this.processes=[],this.observers=[],e.registerApplicationManager(this)}}},9918:(e,t,i)=>{"use strict";i.d(t,{JT:()=>s,R2:()=>a,db:()=>n,fh:()=>r});let n=(e,t)=>{let i=e.x1<t.x2&&e.x2>t.x1,n=e.y1<t.y2&&e.y2>t.y1;return i&&n},r=(e,t)=>t.some(t=>n(e,t)),o=(e,t)=>{let i=e.x>t.x1&&e.x<t.x2,n=e.y>t.y1&&e.y<t.y2;return i&&n},s=(e,t)=>t.some(t=>o(e,t)),a=(e,t)=>t.findIndex(t=>o(e,t))}},e=>{e.O(0,[724,636,593,792],()=>e(e.s=7703)),_N_E=e.O()}]);